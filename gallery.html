<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gallery of Baluch Martyrs - Browse our memorial database">
    <meta name="theme-color" content="#2c5530">
    <meta name="msapplication-TileColor" content="#2c5530">
    
    <meta property="og:title" content="Martyrs Gallery - Baluch Martyrs Memorial">
    <meta property="og:image" content="https://baluchmartyrs.site/baluch-flag-logo.png">
    
    <title>Martyrs Gallery - Baluch Martyrs Memorial</title>
    
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="512x512" href="/baluch-flag-logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/baluch-flag-logo.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="shortcut icon" href="/favicon.svg">
    
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/chatbot.css">
    
    <!-- Professional Static Asset Refresh System -->
    <script src="js/asset-refresh.js"></script>
</head>
<body>
    <!-- Header Section -->
    <header class="site-header">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <h1>Baluch Martyrs Memorial</h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="add-martyr.html">Add Martyr</a></li>
                    <li><a href="gallery.html" class="active">Gallery</a></li>
                    <li><a href="statistics.html">Statistics</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><button type="button" class="theme-toggle" data-theme-toggle aria-label="Toggle dark mode">üåô</button></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <section class="gallery-section">
            <div class="container">
                <div class="page-header">
                    <h2>Martyrs Gallery</h2>
                    <p>Browse through our memorial database to honor and remember our heroes</p>
                </div>

                <!-- Search & Discovery -->
                <div class="discovery-bar">
                    <!-- Primary Search -->
                    <div class="discovery-search">
                        <div class="search-wrapper">
                            <svg class="search-svg-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                            </svg>
                            <input type="text" id="searchMartyrs" placeholder="Search heroes by name, location..." autocomplete="off">
                            <button type="button" id="clearSearch" class="search-clear" title="Clear">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg>
                            </button>
                            <div id="autocompleteDropdown" class="autocomplete-dropdown"></div>
                        </div>
                        <button type="button" id="discoverHero" class="discover-btn" title="Discover a random hero">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                            <span>Discover</span>
                        </button>
                    </div>

                    <!-- Filter Toolbar -->
                    <div class="discovery-filters">
                        <div class="filter-tabs">
                            <button type="button" class="filter-tab active" data-filter="all">All</button>
                            <button type="button" class="filter-tab" data-filter="recent">Recent</button>
                            <div class="filter-tab-dropdown">
                                <button type="button" class="filter-tab" data-filter="region" data-dropdown="regionDropdown">
                                    Region
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                                </button>
                                <div id="regionDropdown" class="filter-dropdown-menu">
                                    <div class="dropdown-scroll" id="regionList"></div>
                                </div>
                            </div>
                            <div class="filter-tab-dropdown">
                                <button type="button" class="filter-tab" data-filter="year" data-dropdown="yearDropdown">
                                    Year
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                                </button>
                                <div id="yearDropdown" class="filter-dropdown-menu">
                                    <div class="dropdown-scroll" id="yearList"></div>
                                </div>
                            </div>
                        </div>
                        <button type="button" id="toggleAdvancedSearch" class="advanced-toggle">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 3v18m-6-6l6 6 6-6M3 6h18M6 12h12M9 18h6"/>
                            </svg>
                            Filters
                        </button>
                    </div>

                    <!-- Alphabet Bar -->
                    <div class="alphabet-bar" id="alphabetNav"></div>

                    <!-- Advanced Search Panel -->
                    <div id="advancedSearchPanel" class="advanced-panel">
                        <div class="advanced-grid">
                            <div class="advanced-field">
                                <label for="searchByName">Name</label>
                                <input type="text" id="searchByName" placeholder="Martyr name...">
                            </div>
                            <div class="advanced-field">
                                <label for="searchByFather">Father's Name</label>
                                <input type="text" id="searchByFather" placeholder="Father's name...">
                            </div>
                            <div class="advanced-field">
                                <label for="searchByLocation">Location</label>
                                <input type="text" id="searchByLocation" placeholder="City or region...">
                            </div>
                            <div class="advanced-field">
                                <label for="searchByOrganization">Organization</label>
                                <input type="text" id="searchByOrganization" placeholder="Organization...">
                            </div>
                            <div class="advanced-field">
                                <label for="searchByYear">Year</label>
                                <input type="number" id="searchByYear" placeholder="Year" min="1900" max="2030">
                            </div>
                        </div>
                        <div class="advanced-actions">
                            <button type="button" id="clearAdvancedSearch" class="btn-reset">Reset</button>
                            <button type="button" id="applyAdvancedSearch" class="btn-apply">Apply Filters</button>
                        </div>
                    </div>

                    <!-- Results Summary -->
                    <div id="searchResultsInfo" class="results-bar">
                        <div class="results-text">
                            <strong id="resultsCount">0</strong>
                            <span id="resultsLabel">heroes found</span>
                            <span id="resultsFilters" class="results-filter-tag"></span>
                        </div>
                        <button type="button" id="clearAllFilters" class="results-clear">Clear all</button>
                    </div>
                </div>

                <!-- Gallery Grid -->
                <div class="gallery-grid" id="galleryGrid">
                    <!-- Professional loading state will be shown by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Baluch Martyrs Memorial</h3>
                    <p>Preserving the memory of our heroes who gave their lives for freedom.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="add-martyr.html">Add Martyr</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="statistics.html">Statistics</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>Email: info@baluchmemorial.org</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span class="js-current-year">2026</span> Baluch Martyrs Memorial. All rights reserved.</p>
                <p>Data managed by <strong>Baloch Martyrs Committee</strong> ‚Ä¢ Powered by <strong>Benjamin Baluch</strong></p>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK - Direct CDN Loading (compat libs; main.js uses modular firebase-config.js) -->
    <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>
    
    <!-- Load main scripts; main.js will initialize Firebase via js/firebase-config.js -->
    <script src="js/main.js"></script>
    <script src="js/mobile-menu.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/gallery.js"></script>

    <!-- Initialize Professional Asset Refresh System -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof StaticAssetRefresh !== 'undefined') {
            try {
                window.initAutoRefresh({
                    enableLogging: false,
                    refreshInterval: 30 * 60 * 1000,
                    cookiePrefix: 'bmm_cache_',
                    autoRefresh: true
                });
                
                window.forceRefreshAssets = async function() {
                    const results = await window.refreshStaticAssets({ enableLogging: true });
                    console.log('‚úÖ Gallery assets refreshed:', results);
                    return results;
                };
            } catch (error) {
                console.warn('‚ö†Ô∏è Asset refresh failed:', error);
            }
        }
    });
    </script>
</body>
</html>
